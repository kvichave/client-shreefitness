{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///home/kunal/Documents/client-shreefitness/frontend/app/syncusersession.js"],"sourcesContent":["\"use client\";\n\nimport { useUser } from \"@clerk/nextjs\";\nimport { useEffect, useState } from \"react\";\nimport { env } from 'next-runtime-env';\n\nexport default function SyncUserSession() {\n  const { user, isLoaded } = useUser();\n  const [isSyncing, setIsSyncing] = useState(true); // Track sync state\n  const apiUrl = env('NEXT_PUBLIC_API_URL');\n\n  useEffect(() => {\n    if (isLoaded && user) {\n      console.log(\"Sending session data to Flask\");\n      fetch(\n        apiUrl+`/setsession?user_id=${user.id}&email=${user.primaryEmailAddress?.emailAddress}`,\n        {\n          method: \"GET\",\n          credentials: \"include\", // Ensures cookies are sent\n        }\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"Response from server:\", data);\n          localStorage.setItem(\"user-profile\", JSON.stringify(data));\n        })\n        .catch((error) => {\n          console.error(\"Error:\", error);\n        });\n    }\n  }, [isLoaded, user]);\n\n  // If syncing data or waiting for user data, return nothing (still rendering children)\n  if (isSyncing) {\n    return null;\n  }\n\n  return null;\n}\n"],"names":[],"mappings":";;;AAEA;AACA;AACA;AAJA;;;;AAMe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,4JAAA,CAAA,UAAO,AAAD;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,OAAO,mBAAmB;IACrE,MAAM,SAAS,CAAA,GAAA,wJAAA,CAAA,MAAG,AAAD,EAAE;IAEnB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,YAAY,MAAM;YACpB,QAAQ,GAAG,CAAC;YACZ,MACE,SAAO,CAAC,oBAAoB,EAAE,KAAK,EAAE,CAAC,OAAO,EAAE,KAAK,mBAAmB,EAAE,cAAc,EACvF;gBACE,QAAQ;gBACR,aAAa;YACf,GAEC,IAAI,CAAC,CAAC,WAAa,SAAS,IAAI,IAChC,IAAI,CAAC,CAAC;gBACL,QAAQ,GAAG,CAAC,yBAAyB;gBACrC,aAAa,OAAO,CAAC,gBAAgB,KAAK,SAAS,CAAC;YACtD,GACC,KAAK,CAAC,CAAC;gBACN,QAAQ,KAAK,CAAC,UAAU;YAC1B;QACJ;IACF,GAAG;QAAC;QAAU;KAAK;IAEnB,sFAAsF;IACtF,IAAI,WAAW;QACb,OAAO;IACT;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///home/kunal/Documents/client-shreefitness/frontend/components/Header.jsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { SignedIn, UserButton, SignedOut } from \"@clerk/nextjs\";\nimport { env } from 'next-runtime-env';\n\nconst Header = () => {\n  const router = useRouter();\n  const [isAdmin, setIsAdmin] = useState(false);\nconst apiUrl = env('NEXT_PUBLIC_API_URL');\n  console.log(\"api :   \",apiUrl)\n\n\n  const fetchadmin = async () => {\n    const res = await fetch(\n      apiUrl+\"/api/admin/verify\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        credentials: \"include\",\n      }\n    );\n    const data = await res.json();\n    console.log(data[\"FLAG\"]);\n    if (data[\"FLAG\"] === \"YES\") {\n      setIsAdmin(true);\n    }\n  };\n  useEffect(() => {\n    fetchadmin();\n  }, []);\n\n  return (\n    <nav className=\"bg-black p-4 flex justify-between items-center\">\n      <img src=\"/LOGO.jpg\" alt=\"Logo\" className=\"h-18 w-18\" />\n\n      <div className=\"flex m-auto items-center space-x-4\">\n        <ul className=\"flex font-bold space-x-20\">\n          <li>\n            <Link href=\"/\">Home</Link>\n          </li>\n          <li>\n            <Link href=\"/program\">Program & Pricing</Link>\n          </li>\n          {/* <li>\n            <Link href=\"/pricing\">Pricing</Link>\n          </li> */}\n          <li>\n            <Link href=\"/about\">About</Link>\n          </li>\n          <SignedIn>\n            <li>\n              {/* <img\n                src=\"/history.png\"\n                width=\"50px\"\n                height=\"50px\"\n                alt=\"History\"\n              /> */}\n              <Link\n                className=\"bg-[#9acc35] text-black px-4 py-2 rounded\"\n                href=\"/userplans\"\n              >\n                History\n              </Link>\n            </li>\n          </SignedIn>\n        </ul>\n      </div>\n      <div>\n        <SignedOut>\n          <button\n            onClick={() => router.push(\"/sign-in\")}\n            className=\"border border-white text-white px-4 py-2 rounded-xl mr-2\"\n          >\n            Signup\n          </button>\n          {/* <button className=\"bg-blue-500 text-white px-4 py-2 rounded-xl\">\n            Register\n          </button> */}\n        </SignedOut>\n        <SignedIn>\n          <div className=\"flex flex-row \">\n            {isAdmin && (\n              <button\n                onClick={() => router.push(\"/admin\")}\n                className=\"mr-4 font-bold text-lg bg-red-500 px-4 py-2 text-black  rounded\"\n              >\n                Admin\n              </button>\n            )}\n            <UserButton\n              appearance={{\n                elements: {\n                  userButtonAvatarBox: {\n                    width: \"48px\",\n                    height: \"48px\",\n                  },\n                },\n              }}\n            />{\" \"}\n          </div>\n        </SignedIn>\n      </div>\n    </nav>\n  );\n};\n\nexport default Header;\n"],"names":[],"mappings":";;;;AACA;AACA;AAEA;AACA;AAAA;AACA;AANA;;;;;;;;AAQA,MAAM,SAAS;IACb,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,SAAS,CAAA,GAAA,wJAAA,CAAA,MAAG,AAAD,EAAE;IACjB,QAAQ,GAAG,CAAC,YAAW;IAGvB,MAAM,aAAa;QACjB,MAAM,MAAM,MAAM,MAChB,SAAO,qBACP;YACE,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,aAAa;QACf;QAEF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,QAAQ,GAAG,CAAC,IAAI,CAAC,OAAO;QACxB,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO;YAC1B,WAAW;QACb;IACF;IACA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,KAAI;gBAAY,KAAI;gBAAO,WAAU;;;;;;0BAE1C,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAG,WAAU;;sCACZ,8OAAC;sCACC,cAAA,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;0CAAI;;;;;;;;;;;sCAEjB,8OAAC;sCACC,cAAA,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;0CAAW;;;;;;;;;;;sCAKxB,8OAAC;sCACC,cAAA,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;0CAAS;;;;;;;;;;;sCAEtB,8OAAC,yKAAA,CAAA,WAAQ;sCACP,cAAA,8OAAC;0CAOC,cAAA,8OAAC,4JAAA,CAAA,UAAI;oCACH,WAAU;oCACV,MAAK;8CACN;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOT,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,YAAS;kCACR,cAAA,8OAAC;4BACC,SAAS,IAAM,OAAO,IAAI,CAAC;4BAC3B,WAAU;sCACX;;;;;;;;;;;kCAOH,8OAAC,yKAAA,CAAA,WAAQ;kCACP,cAAA,8OAAC;4BAAI,WAAU;;gCACZ,yBACC,8OAAC;oCACC,SAAS,IAAM,OAAO,IAAI,CAAC;oCAC3B,WAAU;8CACX;;;;;;8CAIH,8OAAC,2KAAA,CAAA,aAAU;oCACT,YAAY;wCACV,UAAU;4CACR,qBAAqB;gDACnB,OAAO;gDACP,QAAQ;4CACV;wCACF;oCACF;;;;;;gCACC;;;;;;;;;;;;;;;;;;;;;;;;AAMf;uCAEe","debugId":null}}]
}